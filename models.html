
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <title>Talent Nexus | Xavier OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="guard.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { background: #020204; color: #e0e0e0; font-family: 'Rajdhani', sans-serif; }
        .quantum-panel { background: rgba(10, 14, 39, 0.9); border: 1px solid rgba(176, 38, 255, 0.1); }
        .cost-indicator { background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); }
    </style>
</head>
<body class="min-h-screen">

    <header class="quantum-panel sticky top-0 z-40 px-6 py-4 border-b border-purple-500/20">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <button onclick="location.href='index.html'" class="text-gray-400 hover:text-white">‚Üê Hub</button>
                <h1 class="font-orbitron text-2xl font-bold text-purple-400">TALENT NEXUS</h1>
            </div>
            <div class="flex items-center gap-4">
                <div class="cost-indicator px-3 py-1 rounded-full text-xs text-yellow-400">
                    $0.10 per generation
                </div>
                <button onclick="XavierSecurity.logout()" class="text-red-400 text-sm">Logout</button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">
        <div class="quantum-panel rounded-2xl p-6 mb-8 max-w-2xl mx-auto">
            <h3 class="font-orbitron text-xl font-bold text-purple-400 mb-4">Generate Hyper-Realistic Model</h3>
            <p class="text-xs text-gray-500 mb-4">Uses Pollinations.ai ‚Ä¢ $0.10 micro-fee per generation</p>
            
            <textarea id="traits" class="w-full h-24 bg-black/50 border border-purple-500/30 rounded-lg p-3 text-white mb-3" placeholder="Traits: 28-year-old professional, confident expression..."></textarea>
            
            <select id="style" class="w-full bg-black/50 border border-purple-500/30 rounded-lg p-3 text-white mb-3">
                <option value="professional">Professional Headshot</option>
                <option value="fashion">High Fashion</option>
                <option value="military">Military/Tactical</option>
                <option value="casual">Casual Lifestyle</option>
            </select>
            
            <button onclick="generateModel()" id="gen-btn" class="w-full bg-purple-600 hover:bg-purple-500 py-4 rounded-lg font-bold text-lg transition">
                üë§ Generate ($0.10)
            </button>
        </div>

        <div class="text-center mb-4 text-xs text-gray-500">
            Total Generations: <span id="gen-count" class="text-purple-400">0</span> ‚Ä¢ 
            Fees Generated: $<span id="fees-generated" class="text-yellow-400">0.00</span>
        </div>

        <div id="gallery" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
            <!-- Models appear here -->
        </div>
    </main>

    <script>
        let models = JSON.parse(localStorage.getItem('xavier_models') || '[]');
        let generationCount = parseInt(localStorage.getItem('xavier_gen_count') || '0');
        let totalFees = parseFloat(localStorage.getItem('xavier_model_fees') || '0');

        function updateStats() {
            document.getElementById('gen-count').textContent = generationCount;
            document.getElementById('fees-generated').textContent = totalFees.toFixed(2);
        }

        async function generateModel() {
            const traits = document.getElementById('traits').value;
            const style = document.getElementById('style').value;
            
            if (!traits) return alert('Enter traits first');
            
            const btn = document.getElementById('gen-btn');
            btn.innerHTML = '<span class="animate-pulse">‚ö° Generating...</span>';
            btn.disabled = true;

            // Charge fee
            const fee = 0.10;
            totalFees += fee;
            generationCount++;
            
            // Track revenue
            if (window.XavierRevenue) {
                XavierRevenue.addTransaction(fee);
            } else {
                const current = parseFloat(localStorage.getItem('xavier_revenue_tx') || '0');
                localStorage.setItem('xavier_revenue_tx', (current + fee).toFixed(2));
            }
            
            localStorage.setItem('xavier_gen_count', generationCount);
            localStorage.setItem('xavier_model_fees', totalFees.toFixed(2));
            updateStats();

            const prompts = {
                professional: `professional headshot, ${traits}, 8k uhd, dslr, canon eos r5, 85mm lens f/1.2, highly detailed`,
                fashion: `high fashion editorial, ${traits}, haute couture, dramatic lighting, vogue style`,
                military: `tactical portrait, ${traits}, military uniform, combat gear, dramatic lighting`,
                casual: `lifestyle photography, ${traits}, natural lighting, bokeh background, candid pose`
            };

            const finalPrompt = prompts[style];
            const encoded = encodeURIComponent(finalPrompt);
            const imageUrl = `https://image.pollinations.ai/prompt/${encoded}?width=1024&height=1024&nologo=true&seed=${Date.now()}`;
            
            const model = {
                id: `MDL-${Date.now()}`,
                url: imageUrl,
                traits: traits,
                style: style,
                fee: fee,
                created: new Date().toLocaleString()
            };
            
            models.unshift(model);
            localStorage.setItem('xavier_models', JSON.stringify(models));
            
            renderGallery();
            
            btn.innerHTML = 'üë§ Generate ($0.10)';
            btn.disabled = false;
            document.getElementById('traits').value = '';
        }

        function renderGallery() {
            const gallery = document.getElementById('gallery');
            
            if (models.length === 0) {
                gallery.innerHTML = '<div class="text-gray-500 text-center col-span-full py-8">No models yet.</div>';
                return;
            }
            
            gallery.innerHTML = models.map((m, idx) => `
                <div class="aspect-square rounded-lg overflow-hidden border border-purple-500/30 relative group bg-gray-900">
                    <img src="${m.url}" class="w-full h-full object-cover" loading="lazy">
                    <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center gap-2 p-2">
                        <span class="text-xs text-yellow-400">Fee: $${m.fee}</span>
                        <button onclick="deleteModel(${idx})" class="bg-red-600 px-3 py-1 rounded text-xs w-full">Delete</button>
                    </div>
                    <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-1 text-[10px] text-center text-gray-400 truncate">
                        ${m.id}
                    </div>
                </div>
            `).join('');
        }

        function deleteModel(idx) {
            if (confirm('Delete this model?')) {
                models.splice(idx, 1);
                localStorage.setItem('xavier_models', JSON.stringify(models));
                renderGallery();
            }
        }

        renderGallery();
        updateStats();
    </script>
</body>
</html>
