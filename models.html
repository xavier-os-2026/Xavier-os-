<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talent Nexus | Xavier OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { background: #020204; color: #e0e0e0; font-family: 'Rajdhani', sans-serif; }
        .quantum-panel { background: rgba(10, 14, 39, 0.9); border: 1px solid rgba(176, 38, 255, 0.1); }
        .model-card { animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .generating { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    </style>
</head>
<body class="min-h-screen">

    <header class="quantum-panel sticky top-0 z-40 px-6 py-4 border-b border-purple-500/20">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <button onclick="location.href='index.html'" class="text-gray-400 hover:text-white">‚Üê Hub</button>
                <h1 class="font-orbitron text-2xl font-bold text-purple-400">TALENT NEXUS</h1>
            </div>
            <div class="text-sm text-gray-400">Generated: <span id="model-count" class="text-purple-400">0</span></div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">
        <div class="quantum-panel rounded-2xl p-6 mb-8 max-w-2xl mx-auto">
            <h3 class="font-orbitron text-xl font-bold text-purple-400 mb-4">Generate Hyper-Realistic Model (Free)</h3>
            <p class="text-xs text-gray-500 mb-4">Uses Pollinations.ai - Completely free, unlimited, no API key required</p>
            
            <textarea id="traits" class="w-full h-24 bg-black/50 border border-purple-500/30 rounded-lg p-3 text-white mb-3" placeholder="Traits: 28-year-old professional, confident expression, business attire, studio lighting..."></textarea>
            
            <select id="style" class="w-full bg-black/50 border border-purple-500/30 rounded-lg p-3 text-white mb-3">
                <option value="professional">Professional Headshot</option>
                <option value="fashion">High Fashion</option>
                <option value="military">Military/Tactical</option>
                <option value="casual">Casual Lifestyle</option>
                <option value="advertising">Product Advertising</option>
            </select>
            
            <button onclick="generateModel()" id="gen-btn" class="w-full bg-purple-600 hover:bg-purple-500 py-4 rounded-lg font-bold text-lg transition">
                üë§ Generate Model (Free)
            </button>
        </div>

        <div id="gallery" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
            <!-- Models appear here -->
        </div>
    </main>

    <script>
        let models = JSON.parse(localStorage.getItem('xavier_models') || '[]');
        renderGallery();

        async function generateModel() {
            const traits = document.getElementById('traits').value;
            const style = document.getElementById('style').value;
            
            if (!traits) return alert('Enter traits first');
            
            const btn = document.getElementById('gen-btn');
            btn.innerHTML = '<span class="generating">‚ö° Generating...</span>';
            btn.disabled = true;

            // Build professional prompt
            const prompts = {
                professional: `professional headshot, ${traits}, 8k uhd, dslr, canon eos r5, 85mm lens f/1.2, highly detailed skin texture, pores visible, studio softbox lighting, catchlights in eyes, sharp focus, professional color grading`,
                fashion: `high fashion editorial, ${traits}, haute couture, dramatic lighting, vogue style, 8k, photorealistic, catwalk, designer clothing`,
                military: `tactical portrait, ${traits}, military uniform, combat gear, dramatic lighting, serious expression, 8k, photorealistic, specular highlights`,
                casual: `lifestyle photography, ${traits}, natural lighting, bokeh background, candid pose, 8k, photorealistic, iphone 15 pro style`,
                advertising: `product advertisement, ${traits}, holding product, commercial photography, white background, 8k, sharp focus, professional`
            };

            const finalPrompt = prompts[style];
            
            // ZERO COST: Pollinations.ai - No API key, unlimited
            const encoded = encodeURIComponent(finalPrompt);
            const imageUrl = `https://image.pollinations.ai/prompt/${encoded}?width=1024&height=1024&nologo=true&seed=${Date.now()}&negative_prompt=cartoon,illustration,3d render,painting,sketch,low quality,blurry,anime`;
            
            const model = {
                id: `MDL-${Date.now()}`,
                url: imageUrl,
                traits: traits,
                style: style,
                created: new Date().toLocaleString()
            };
            
            models.unshift(model);
            localStorage.setItem('xavier_models', JSON.stringify(models));
            
            renderGallery();
            
            btn.innerHTML = 'üë§ Generate Model (Free)';
            btn.disabled = false;
            document.getElementById('traits').value = '';
        }

        function renderGallery() {
            const gallery = document.getElementById('gallery');
            document.getElementById('model-count').textContent = models.length;
            
            if (models.length === 0) {
                gallery.innerHTML = '<div class="text-gray-500 text-center col-span-full py-8">No models yet. Generate one above (Free).</div>';
                return;
            }
            
            gallery.innerHTML = models.map((m, idx) => `
                <div class="model-card aspect-square rounded-lg overflow-hidden border border-purple-500/30 relative group bg-gray-900">
                    <img src="${m.url}" class="w-full h-full object-cover" loading="lazy">
                    <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center gap-2 p-2">
                        <span class="text-xs text-purple-400 font-bold uppercase">${m.style}</span>
                        <button onclick="downloadModel('${m.url}')" class="bg-purple-600 px-3 py-1 rounded text-xs w-full">Download</button>
                        <button onclick="deleteModel(${idx})" class="bg-red-600 px-3 py-1 rounded text-xs w-full">Delete</button>
                    </div>
                    <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-1 text-[10px] text-center text-gray-400 truncate">
                        ${m.id}
                    </div>
                </div>
            `).join('');
        }

        function downloadModel(url) {
            const a = document.createElement('a');
            a.href = url;
            a.download = `xavier-model-${Date.now()}.png`;
            a.click();
        }

        function deleteModel(idx) {
            if (confirm('Delete this model?')) {
                models.splice(idx, 1);
                localStorage.setItem('xavier_models', JSON.stringify(models));
                renderGallery();
            }
        }
    </script>
    
    <script src="guard.js"></script>
</body>
</html>
