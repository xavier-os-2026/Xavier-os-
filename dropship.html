
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Commerce | Xavier OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --void-black: #020204; }
        body { font-family: 'Rajdhani', sans-serif; background: var(--void-black); color: #e0e0e0; }
        .quantum-panel { background: rgba(10, 14, 39, 0.8); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1); }
        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .product-card { transition: all 0.3s ease; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0, 255, 136, 0.1); }
        .auto-importing { animation: importing 2s infinite; }
        @keyframes importing { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .profit-pulse { animation: profitPulse 2s infinite; }
        @keyframes profitPulse { 0%, 100% { color: #00ff88; } 50% { color: #00ffff; } }
    </style>
</head>
<body class="min-h-screen">

    <header class="quantum-panel sticky top-0 z-50 px-6 py-4 border-b border-green-500/20">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <button onclick="window.location.href='index.html'" class="text-gray-400 hover:text-white transition">‚Üê Back to Hub</button>
                <h1 class="font-orbitron text-2xl font-bold text-green-400">QUANTUM COMMERCE</h1>
            </div>
            <div class="flex items-center gap-4">
                <div class="hidden md:flex items-center gap-3 text-sm">
                    <span class="px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-green-400 text-xs">AI Auto-Pilot: ON</span>
                    <span class="px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-400 text-xs">Margin Optimizer: Active</span>
                </div>
                <button onclick="toggleAutoImport()" id="auto-btn" class="bg-green-600 hover:bg-green-500 text-black px-4 py-2 rounded-lg font-bold text-sm transition flex items-center gap-2">
                    <span class="w-2 h-2 bg-black rounded-full animate-pulse"></span>
                    Auto-Import: OFF
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">
        
        <!-- Stats Dashboard -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="quantum-panel rounded-2xl p-5 border border-green-500/20">
                <div class="text-xs text-gray-400 mb-1">Auto-Imported Today</div>
                <div class="text-3xl font-bold text-green-400 font-orbitron" id="stat-imported">0</div>
                <div class="text-xs text-green-500/70 mt-1">‚Üë 24% vs yesterday</div>
            </div>
            <div class="quantum-panel rounded-2xl p-5">
                <div class="text-xs text-gray-400 mb-1">Avg Margin</div>
                <div class="text-3xl font-bold text-cyan-400 font-orbitron" id="stat-margin">0%</div>
                <div class="text-xs text-cyan-500/70 mt-1">AI optimized</div>
            </div>
            <div class="quantum-panel rounded-2xl p-5">
                <div class="text-xs text-gray-400 mb-1">Live Inventory</div>
                <div class="text-3xl font-bold text-purple-400 font-orbitron" id="stat-inventory">0</div>
                <div class="text-xs text-purple-500/70 mt-1">Zero-API sync</div>
            </div>
            <div class="quantum-panel rounded-2xl p-5 border border-yellow-500/20">
                <div class="text-xs text-gray-400 mb-1">Projected Profit</div>
                <div class="text-3xl font-bold text-yellow-400 font-orbitron profit-pulse" id="stat-profit">$0</div>
                <div class="text-xs text-yellow-500/70 mt-1">30-day forecast</div>
            </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-6">
            
            <!-- Left: Import Controls -->
            <div class="space-y-6">
                <div class="quantum-panel rounded-2xl p-6 border border-green-500/30">
                    <h3 class="font-orbitron text-lg font-bold text-green-400 mb-4">AI Product Curator</h3>
                    <p class="text-xs text-gray-500 mb-4">Zero-API technology: AI scrapes trending products from major suppliers without needing API keys</p>
                    
                    <div class="space-y-3 mb-4">
                        <select id="niche-select" class="w-full bg-black/50 border border-green-500/30 rounded-lg p-3 text-white text-sm">
                            <option value="tech">Tech & Gadgets</option>
                            <option value="fashion">Fashion & Apparel</option>
                            <option value="home">Home & Garden</option>
                            <option value="beauty">Beauty & Health</option>
                            <option value="pets">Pet Supplies</option>
                        </select>
                        
                        <select id="price-range" class="w-full bg-black/50 border border-green-500/30 rounded-lg p-3 text-white text-sm">
                            <option value="all">All Price Ranges</option>
                            <option value="low">$0 - $50 (High Volume)</option>
                            <option value="mid">$50 - $200 (Mid Tier)</option>
                            <option value="high">$200+ (High Ticket)</option>
                        </select>
                    </div>

                    <button onclick="aiImportProducts()" class="w-full bg-gradient-to-r from-green-600 to-cyan-600 py-3 rounded-lg font-bold text-sm mb-3 hover:shadow-lg hover:shadow-green-500/20 transition">
                        ü§ñ AI Import Products
                    </button>
                    
                    <div class="text-xs text-gray-600 text-center">No API keys required ‚Ä¢ Auto-margin calculation</div>
                </div>

                <div class="quantum-panel rounded-2xl p-6">
                    <h3 class="font-orbitron text-lg font-bold text-cyan-400 mb-4">Price Optimizer</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between items-center p-3 bg-black/30 rounded-lg">
                            <span class="text-gray-400">Dynamic Pricing</span>
                            <button onclick="toggleFeature(this)" class="w-12 h-6 bg-green-500 rounded-full relative transition">
                                <span class="absolute right-1 top-1 w-4 h-4 bg-white rounded-full"></span>
                            </button>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-black/30 rounded-lg">
                            <span class="text-gray-400">Competitor Tracking</span>
                            <button onclick="toggleFeature(this)" class="w-12 h-6 bg-green-500 rounded-full relative transition">
                                <span class="absolute right-1 top-1 w-4 h-4 bg-white rounded-full"></span>
                            </button>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-black/30 rounded-lg">
                            <span class="text-gray-400">Auto-Reorder</span>
                            <button onclick="toggleFeature(this)" class="w-12 h-6 bg-gray-600 rounded-full relative transition">
                                <span class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Center: Product Grid -->
            <div class="lg:col-span-2">
                <div class="quantum-panel rounded-2xl p-6 mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-orbitron text-xl font-bold text-white">Curated Inventory</h3>
                        <div class="flex gap-2">
                            <input type="text" id="search-products" placeholder="Search AI-curated products..." 
                                class="bg-black/50 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white w-64 focus:border-green-500 focus:outline-none"
                                onkeyup="searchProducts()">
                            <button onclick="exportCatalog()" class="bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-lg text-sm transition">Export</button>
                        </div>
                    </div>

                    <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Products injected here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Zero-API Product Database (Simulated AI scraping)
        const AI_PRODUCTS = [
            {id: 1, name: 'Neural Interface Headset', category: 'tech', cost: 45, price: 149, supplier: 'AliTrend', trending: true, image: 'üéß'},
            {id: 2, name: 'Quantum Charger Pad', category: 'tech', cost: 12, price: 49, supplier: 'TechDrop', trending: false, image: '‚ö°'},
            {id: 3, name: 'Holographic Watch', category: 'fashion', cost: 25, price: 89, supplier: 'FashionAI', trending: true, image: '‚åö'},
            {id: 4, name: 'Smart Garden Hub', category: 'home', cost: 60, price: 199, supplier: 'HomeBot', trending: true, image: 'üå±'},
            {id: 5, name: 'Nano Drone X1', category: 'tech', cost: 35, price: 129, supplier: 'DroneZone', trending: false, image: 'üöÅ'},
            {id: 6, name: 'LED Face Mask', category: 'beauty', cost: 18, price: 79, supplier: 'BeautyAI', trending: true, image: '‚ú®'},
            {id: 7, name: 'Automatic Pet Feeder', category: 'pets', cost: 40, price: 149, supplier: 'PetTech', trending: false, image: 'üêï'},
            {id: 8, name: 'Portable Projector 4K', category: 'tech', cost: 120, price: 399, supplier: 'Visionary', trending: true, image: 'üìΩÔ∏è'}
        ];

        let myProducts = JSON.parse(localStorage.getItem('xavier_my_products') || '[]');
        let autoImportInterval = null;

        function init() {
            if (myProducts.length === 0) {
                // Auto-populate with 3 starter products
                myProducts = AI_PRODUCTS.slice(0, 3).map(p => ({...p, dateAdded: 'Just now'}));
                saveProducts();
            }
            renderProducts(myProducts);
            updateStats();
        }

        function aiImportProducts() {
            const niche = document.getElementById('niche-select').value;
            const priceRange = document.getElementById('price-range').value;
            const btn = event.target;
            
            btn.innerHTML = '<span class="auto-importing">ü§ñ Scanning suppliers...</span>';
            btn.disabled = true;

            setTimeout(() => {
                // Filter products based on selection
                let filtered = AI_PRODUCTS.filter(p => p.category === niche || niche === 'all');
                
                if (priceRange === 'low') filtered = filtered.filter(p => p.price < 50);
                if (priceRange === 'mid') filtered = filtered.filter(p => p.price >= 50 && p.price < 200);
                if (priceRange === 'high') filtered = filtered.filter(p => p.price >= 200);

                // Add 2-4 random products
                const count = Math.floor(Math.random() * 3) + 2;
                const selected = filtered.sort(() => 0.5 - Math.random()).slice(0, count);
                
                selected.forEach(p => {
                    if (!myProducts.find(mp => mp.id === p.id)) {
                        myProducts.unshift({...p, dateAdded: new Date().toLocaleTimeString(), profit: p.price - p.cost});
                    }
                });

                saveProducts();
                renderProducts(myProducts);
                updateStats();
                
                btn.innerHTML = '‚úÖ Imported ' + count + ' Products';
                setTimeout(() => {
                    btn.innerHTML = 'ü§ñ AI Import Products';
                    btn.disabled = false;
                }, 2000);
            }, 2000);
        }

        function toggleAutoImport() {
            const btn = document.getElementById('auto-btn');
            if (autoImportInterval) {
                clearInterval(autoImportInterval);
                autoImportInterval = null;
                btn.innerHTML = '<span class="w-2 h-2 bg-black rounded-full"></span> Auto-Import: OFF';
                btn.classList.remove('bg-red-600', 'hover:bg-red-500');
                btn.classList.add('bg-green-600', 'hover:bg-green-500');
            } else {
                btn.innerHTML = '<span class="w-2 h-2 bg-white rounded-full animate-pulse"></span> Auto-Import: ON';
                btn.classList.remove('bg-green-600', 'hover:bg-green-500');
                btn.classList.add('bg-red-600', 'hover:bg-red-500');
                
                // Simulate auto-import every 30 seconds
                autoImportInterval = setInterval(() => {
                    const random = AI_PRODUCTS[Math.floor(Math.random() * AI_PRODUCTS.length)];
                    if (!myProducts.find(p => p.id === random.id)) {
                        myProducts.unshift({...random, dateAdded: 'Auto', profit: random.price - random.cost});
                        saveProducts();
                        renderProducts(myProducts);
                        updateStats();
                        
                        // Show notification
                        const notif = document.createElement('div');
                        notif.className = 'fixed bottom-4 right-4 bg-green-600 text-black px-6 py-3 rounded-lg font-bold z-50 animate-bounce';
                        notif.innerHTML = `ü§ñ Auto-imported: ${random.name}`;
                        document.body.appendChild(notif);
                        setTimeout(() => notif.remove(), 3000);
                    }
                }, 30000);
            }
        }

        function renderProducts(products) {
            const grid = document.getElementById('product-grid');
            if (products.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center text-gray-500 py-12">No products. Click AI Import to begin.</div>';
                return;
            }

            grid.innerHTML = products.map((p, idx) => `
                <div class="product-card quantum-panel rounded-xl p-4 border border-green-500/20 relative overflow-hidden group">
                    ${p.trending ? '<div class="absolute top-2 right-2 text-xs bg-red-500 text-white px-2 py-1 rounded">üî• Trending</div>' : ''}
                    
                    <div class="text-4xl mb-3 text-center py-4 bg-black/30 rounded-lg">${p.image}</div>
                    
                    <h4 class="font-bold text-white mb-1 truncate">${p.name}</h4>
                    <div class="text-xs text-gray-500 mb-3">${p.supplier} ‚Ä¢ Added ${p.dateAdded}</div>
                    
                    <div class="grid grid-cols-2 gap-2 mb-3 text-sm">
                        <div class="bg-black/30 p-2 rounded">
                            <div class="text-xs text-gray-500">Cost</div>
                            <div class="text-red-400">$${p.cost}</div>
                        </div>
                        <div class="bg-black/30 p-2 rounded">
                            <div class="text-xs text-gray-500">Sell</div>
                            <div class="text-green-400 font-bold">$${p.price}</div>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center bg-green-900/20 border border-green-500/30 rounded-lg p-2 mb-3">
                        <span class="text-xs text-gray-400">Profit</span>
                        <span class="text-green-400 font-bold">+$${p.profit || (p.price - p.cost)}</span>
                    </div>

                    <div class="flex gap-2">
                        <button onclick="pushToStore(${idx})" class="flex-1 bg-green-600 hover:bg-green-500 text-black py-2 rounded text-sm font-bold transition">Push to Store</button>
                        <button onclick="deleteProduct(${idx})" class="bg-red-600/30 hover:bg-red-600/50 text-red-400 px-3 py-2 rounded text-sm border border-red-500/30">üóë</button>
                    </div>
                </div>
            `).join('');
        }

        function updateStats() {
            const total = myProducts.length;
            const avgMargin = total > 0 ? (myProducts.reduce((sum, p) => sum + ((p.price - p.cost) / p.cost * 100), 0) / total).toFixed(1) : 0;
            const profit = total > 0 ? myProducts.reduce((sum, p) => sum + (p.price - p.cost), 0) : 0;
            
            document.getElementById('stat-imported').textContent = total;
            document.getElementById('stat-margin').textContent = avgMargin + '%';
            document.getElementById('stat-inventory').textContent = total;
            document.getElementById('stat-profit').textContent = '$' + (profit * 30).toFixed(0); // 30-day projection
        }

        function pushToStore(idx) {
            const p = myProducts[idx];
            alert(`üöÄ Pushing ${p.name} to your connected stores...\n\n‚úÖ Shopify: Listed\n‚úÖ WooCommerce: Listed\n‚úÖ eBay: Listed\n\nAI Description generated.\nSEO tags optimized.`);
        }

        function deleteProduct(idx) {
            if (confirm('Remove from inventory?')) {
                myProducts.splice(idx, 1);
                saveProducts();
                renderProducts(myProducts);
                updateStats();
            }
        }

        function saveProducts() {
            localStorage.setItem('xavier_my_products', JSON.stringify(myProducts));
        }

        function searchProducts() {
            const query = document.getElementById('search-products').value.toLowerCase();
            const filtered = myProducts.filter(p => p.name.toLowerCase().includes(query));
            renderProducts(filtered);
        }

        function exportCatalog() {
            const csv = myProducts.map(p => `${p.name},${p.cost},${p.price},${p.supplier}`).join('\n');
            const blob = new Blob([csv], {type: 'text/csv'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `xavier-catalog-${Date.now()}.csv`;
            a.click();
        }

        function toggleFeature(btn) {
            const isOn = btn.classList.contains('bg-green-500');
            if (isOn) {
                btn.classList.remove('bg-green-500');
                btn.classList.add('bg-gray-600');
                btn.querySelector('span').style.right = 'auto';
                btn.querySelector('span').style.left = '4px';
            } else {
                btn.classList.remove('bg-gray-600');
                btn.classList.add('bg-green-500');
                btn.querySelector('span').style.left = 'auto';
                btn.querySelector('span').style.right = '4px';
            }
        }

        // Initialize
        init();
    </script>
    
    <script src="guard.js"></script>
</body>
</html>
